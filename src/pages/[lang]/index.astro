---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getDictionary, isLocale, type Locale } from '../../i18n';

export const prerender = true;

export function getStaticPaths() {
  return ['en', 'zh'].map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;

if (!isLocale(lang)) {
  return Astro.redirect('/zh/');
}

const locale = lang as Locale;
const dict = (await getDictionary(locale)) as any;
---
<BaseLayout lang={locale} dict={dict} title={dict?.site?.title}>
  <section style="display:flex;flex-direction:column;gap:1.5rem;padding:3rem 0;">
    <h1 style="font-size:2.5rem;line-height:1.1;margin:0;">{dict?.home?.heading}</h1>
    <p style="font-size:1.125rem;max-width:40rem;">{dict?.home?.intro}</p>
    <a
      href={`/${locale}/tools/`}
      style="align-self:flex-start;background:#f97316;color:#0f172a;font-weight:600;padding:0.75rem 1.5rem;border-radius:999px;text-decoration:none;"
    >
      {dict?.home?.cta}
    </a>
  </section>
</BaseLayout>
